fragment Fight on ReportFight {
  id
  name
  difficulty
  startTime
  endTime
}

query getReportByCode($code: String!) {
  reportData {
    report(code: $code) {
      code
      startTime
      endTime
      title
      visibility
      zone {
        name
      }
      fights {
        ...Fight
      }
    }
  }
}

fragment Character on Character {
  id
  name
  displayName
  classID
}

query getCharactersForReport($code: String!) {
  reportData {
    report(code: $code) {
      rankedCharacters {
        ...Character
      }
    }
  }
}

query getPlayersForReport($code: String!, $fightIDs: [Int]) {
  reportData {
    report(code: $code) {
      playerDetails(includeCombatantInfo: true, fightIDs: $fightIDs)
    }
  }
}

fragment Event on ReportEventPaginator {
  data
  nextPageTimestamp
}

query getReportEvents($code: String!, $startTime: Float, $endTime: Float, $fightIds: [Int]!) {
  reportData {
    report(code: $code) {
      events(
        startTime: $startTime
        endTime: $endTime
        fightIDs: $fightIds
        useActorIDs: true
        limit: 1000000
      ) {
        ...Event
      }
    }
  }
}

fragment ReportAbility on ReportAbility {
  gameID
  icon
  name
  type
}

fragment ReportActor on ReportActor {
  displayName
  gameID
  icon
  id
  name
  server
  subType
  type
}

fragment MasterData on ReportMasterData {
  abilities {
    ...ReportAbility
  }
  actors {
    ...ReportActor
  }
}

query getReportMasterData($code: String!) {
  reportData {
    report(code: $code) {
      masterData {
        ...MasterData
      }
    }
  }
}
