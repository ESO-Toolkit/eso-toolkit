# Reports and Fights queries
# Used by: ReportFights.tsx, ReportFightDetails.tsx, UserReports.tsx

fragment Report on Report {
  code
  startTime
  endTime
  title
  visibility
  zone {
    name
  }
  fights {
    ...Fight
  }
}

fragment UserReportSummary on Report {
  code
  startTime
  endTime
  title
  visibility
  zone {
    name
  }
  owner {
    name
  }
}

query getReportByCode($code: String!) {
  reportData {
    report(code: $code) {
      ...Report
    }
  }
}

query getCurrentUser {
  userData {
    currentUser {
      id
      name
      naDisplayName
      euDisplayName
    }
  }
}

query getUserReports($limit: Int, $page: Int, $userID: Int) {
  reportData {
    reports(limit: $limit, page: $page, userID: $userID) {
      data {
        ...UserReportSummary
      }
      total
      current_page
      per_page
      last_page
      has_more_pages
    }
  }
}

query getLatestReports($limit: Int, $page: Int) {
  reportData {
    reports(limit: $limit, page: $page) {
      data {
        ...UserReportSummary
      }
      current_page
      per_page
      last_page
      has_more_pages
    }
  }
}
