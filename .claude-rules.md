# Claude Development Server Rules

## Port 3000 Only Policy

### Rule: Always Use Port 3000 for Development Servers
- **NEVER** start development servers on any port other than 3000
- If port 3000 is already in use, kill the existing process before starting a new one
- Use `lsof -ti:3000 | xargs kill -9` (macOS/Linux) or check for existing processes on Windows

### Rule: Check for Existing Servers First
Before running any dev server command:
1. Check if port 3000 is already in use
2. If it is, identify what's running on it
3. If it's the same project, use that existing server
4. If it's a different project, kill it first

### Rule: Development Server Commands
- **Allowed**: `npm run dev` (which should be configured to use port 3000)
- **Allowed**: `vite --port 3000`
- **Not Allowed**: Any command that results in a different port
- **Not Allowed**: Manually specifying different ports

### Rule: Port Configuration
**For personal setup (recommended):**
Create a `.env.local` file (ignored by git) with:
```
STRICT_PORT=true
```

This will make your local vite config use `strictPort: true` while allowing other developers to use the default behavior (port 3000 with fallback to other ports if occupied).

### Rule: When Port 3000 is Occupied
If port 3000 is occupied by a different process:
1. Identify the process: `netstat -ano | findstr :3000` (Windows) or `lsof -ti:3000` (macOS/Linux)
2. Kill the process if it's not critical
3. Only then start your dev server

### Consequences
- Violating this rule results in multiple dev servers running simultaneously
- This wastes system resources and causes confusion
- Always check before starting a new server